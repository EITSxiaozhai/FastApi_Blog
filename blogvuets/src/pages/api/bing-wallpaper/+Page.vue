<template>
  <div class="api-documentation">
    <div class="header-section">
      <h1>Bingå£çº¸APIæ–‡æ¡£</h1>
      <p class="description">è·å–å¿…åº”æ¯æ—¥ç²¾ç¾å£çº¸çš„APIæ¥å£æ–‡æ¡£</p>
    </div>
    
    <section class="api-section">
      <h2>ğŸ“¸ è·å–æ¯æ—¥å£çº¸</h2>
      <div class="endpoint">
        <span class="method">GET</span>
        <code>https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper</code>
      </div>
      <h3>è¿”å›ç¤ºä¾‹</h3>
      <pre class="response-example">
{
  "url": "https://www.bing.com/th?id=OHR.Example_1920x1080.jpg",
  "title": "ç¤ºä¾‹æ ‡é¢˜",
  "copyright": "Â© ç¤ºä¾‹ç‰ˆæƒä¿¡æ¯",
  "date": "20240403",
  "fullUrl": "https://www.bing.com/th?id=OHR.Example_UHD.jpg"
}</pre>
    </section>

    <section class="api-section">
      <h2>ğŸ² éšæœºè·å–å£çº¸</h2>
      <div class="endpoint">
        <span class="method">GET</span>
        <code>https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper?is_random=true</code>
      </div>
      <h3>è¯´æ˜</h3>
      <p>éšæœºè¿”å›æœ€è¿‘7å¤©å†…çš„ä»»æ„ä¸€å¼ å£çº¸</p>
      <h3>è¿”å›ç¤ºä¾‹</h3>
      <pre class="response-example">
{
  "url": "https://www.bing.com/th?id=OHR.Example_1920x1080.jpg",
  "title": "ç¤ºä¾‹æ ‡é¢˜",
  "copyright": "Â© ç¤ºä¾‹ç‰ˆæƒä¿¡æ¯",
  "date": "20240403",
  "fullUrl": "https://www.bing.com/th?id=OHR.Example_UHD.jpg"
}</pre>
    </section>

    <section class="api-section">
      <h2>ğŸ’» ä½¿ç”¨ç¤ºä¾‹</h2>
      
      <div class="code-tabs">
        <el-tabs v-model="activeTab" class="demo-tabs">
          <el-tab-pane label="JavaScript" name="javascript">
            <pre class="code-example">
// è·å–ä»Šæ—¥å£çº¸
fetch('https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper')
  .then(response => response.json())
  .then(data => {
    console.log('ä»Šæ—¥å£çº¸:', data);
    document.body.style.backgroundImage = `url(${data.url})`;
  })
  .catch(error => console.error('Error:', error));

// éšæœºè·å–å£çº¸
fetch('https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper?is_random=true')
  .then(response => response.json())
  .then(data => {
    console.log('éšæœºå£çº¸:', data);
  });</pre>
          </el-tab-pane>

          <el-tab-pane label="Python" name="python">
            <pre class="code-example">
import requests
import json

# è·å–ä»Šæ—¥å£çº¸
def get_daily_wallpaper():
    url = 'https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper'
    response = requests.get(url)
    
    if response.status_code == 200:
        data = response.json()
        print(f"æ ‡é¢˜: {data['title']}")
        print(f"æ—¥æœŸ: {data['date']}")
        print(f"ç‰ˆæƒ: {data['copyright']}")
        return data['url']
    else:
        print("è·å–å¤±è´¥")
        return None

# éšæœºè·å–å£çº¸
def get_random_wallpaper():
    url = 'https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper?is_random=true'
    response = requests.get(url)
    return response.json() if response.status_code == 200 else None

# ä½¿ç”¨ç¤ºä¾‹
wallpaper = get_daily_wallpaper()
if wallpaper:
    print(f"å£çº¸URL: {wallpaper}")</pre>
          </el-tab-pane>

          <el-tab-pane label="curl" name="curl">
            <pre class="code-example">
# è·å–ä»Šæ—¥å£çº¸
curl -X GET "https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper" \
     -H "Accept: application/json"

# éšæœºè·å–å£çº¸
curl -X GET "https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper?is_random=true" \
     -H "Accept: application/json"

# ä¿å­˜å£çº¸åˆ°æœ¬åœ°
curl -X GET "https://blogapi-traefik.exploit-db.xyz/api/views/blogs/bing-wallpaper" | \
jq -r '.url' | \
xargs curl -o wallpaper.jpg</pre>
          </el-tab-pane>
        </el-tabs>
      </div>
    </section>

    <section class="api-section">
      <h2>ğŸ“‹ å“åº”å­—æ®µè¯´æ˜</h2>
      <el-table :data="tableData" style="width: 100%">
        <el-table-column prop="field" label="å­—æ®µ" width="120" />
        <el-table-column prop="type" label="ç±»å‹" width="100" />
        <el-table-column prop="description" label="æè¿°" />
      </el-table>
    </section>

    <section class="api-section">
      <h2>ğŸš¨ æ³¨æ„äº‹é¡¹</h2>
      <el-alert
        title="å…è´¹ä½¿ç”¨"
        type="success"
        description="æ­¤APIå®Œå…¨å…è´¹ï¼Œä½†è¯·åˆç†ä½¿ç”¨ï¼Œé¿å…é¢‘ç¹è¯·æ±‚ã€‚"
        show-icon>
      </el-alert>
      
      <el-alert
        title="ç‰ˆæƒä¿¡æ¯"
        type="warning"
        description="æ‰€æœ‰å£çº¸ç‰ˆæƒå½’å¾®è½¯å¿…åº”æ‰€æœ‰ï¼Œä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ã€‚"
        show-icon
        style="margin-top: 15px;">
      </el-alert>
    </section>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const activeTab = ref('javascript')

const tableData = ref([
  {
    field: 'url',
    type: 'string',
    description: '1920x1080åˆ†è¾¨ç‡çš„å£çº¸URL'
  },
  {
    field: 'title',
    type: 'string',
    description: 'å£çº¸æ ‡é¢˜'
  },
  {
    field: 'copyright',
    type: 'string',
    description: 'ç‰ˆæƒä¿¡æ¯'
  },
  {
    field: 'date',
    type: 'string',
    description: 'å£çº¸æ—¥æœŸï¼Œæ ¼å¼ï¼šYYYYMMDD'
  },
  {
    field: 'fullUrl',
    type: 'string',
    description: 'è¶…é«˜æ¸…åˆ†è¾¨ç‡çš„å£çº¸URL'
  }
])

onMounted(() => {
  console.log('APIæ–‡æ¡£é¡µé¢å·²åŠ è½½')
})
</script>

<style scoped>
.api-documentation {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.header-section {
  text-align: center;
  margin-bottom: 40px;
  padding: 30px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 15px;
  color: white;
}

.header-section h1 {
  font-size: 2.5rem;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.description {
  font-size: 1.1rem;
  opacity: 0.9;
  margin: 0;
}

.api-section {
  margin-bottom: 40px;
  padding: 25px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border: 1px solid #f0f0f0;
}

.endpoint {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
  border-left: 4px solid #409eff;
  display: flex;
  align-items: center;
  gap: 10px;
}

.method {
  background: #67c23a;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-size: 0.9rem;
}

.endpoint code {
  background: transparent;
  color: #333;
  font-family: 'Consolas', monospace;
  word-break: break-all;
}

.response-example,
.code-example {
  background: #2d3748;
  color: #e2e8f0;
  padding: 20px;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Consolas', 'Monaco', monospace;
  line-height: 1.5;
}

.code-tabs {
  margin-top: 20px;
}

.demo-tabs .el-tabs__item {
  font-weight: bold;
}

h1 {
  color: #2c3e50;
  margin-bottom: 20px;
}

.header-section h1 {
  color: white;
}

h2 {
  color: #34495e;
  margin: 25px 0 15px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

h3 {
  color: #5a6c7d;
  margin: 20px 0 10px 0;
}

p {
  color: #666;
  line-height: 1.6;
  margin: 10px 0;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .api-documentation {
    padding: 10px;
  }
  
  .api-section {
    padding: 15px;
  }
  
  .header-section h1 {
    font-size: 2rem;
  }
  
  .endpoint {
    flex-direction: column;
    align-items: flex-start;
  }
}
</style> 